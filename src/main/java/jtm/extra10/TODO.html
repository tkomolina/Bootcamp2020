<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><link href="../../../../../doc/style.css?colorTheme=Custom.OdoTheme" rel="stylesheet" type="text/css" media="all"></head><body><html><body><p><a name="top"></a></p><table width="100%"><tr><td style="border: none; text-align: left;"></td><td style="border: none; text-align: right;"></td></tr></table><h1 id="HExtra10exercise:JavaLoggingwithLog4J"><span>Extra 10 exercise: Java Logging with Log4J</span></h1><ol><li><div><p>Review <span class="wikiinternallink"><a href="https://odo.lv/git/JTM/plain/doc/presentations/e10_Log4J.odp">presentation</a></span><br>   <video src="https://odo.lv/ftp/lectures/Javae10.ogv" width="300" controls></body></html>
<a href="https://odo.lv/ftp/lectures/Javae10.ogv">Javae10.ogv</a></body></html>
</video></p></div></li><li><div><p>Add dependency on <strong>log4j</strong> in <span class="monospace">pom.xml</span> file:</p><div class="box"><div class="code">    &lt;dependencies&gt;<br>    ...<br>        &lt;dependency&gt;<br>            &lt;groupId&gt;log4j&lt;/groupId&gt;<br>            &lt;artifactId&gt;log4j&lt;/artifactId&gt;<br>            &lt;version&gt;1.2.17&lt;/version&gt;<br>        &lt;/dependency&gt;<br>    ...<br>    &lt;/dependencies&gt;</div></div><p>where <span class="monospace">...</span> are some other existing settings</p></div></li><li><div><p>Recompile project and regenerate settings for eclipse:</p><div class="box"><div class="code">mvn clean compile eclipse:eclipse</div></div></div></li><li><div><p>Add file logger named <strong>file</strong> with file appender and layout format into configuration file <span class="monospace">src/main/resources/log4j.properties</span>:</p><ol><li>Folder of the log file should be <strong>logs</strong> folder inside project folder</li><li>Name of log file should be <strong>test.log</strong></li></ol><p>e.g.:</p><div class="box"><div class="code">log4j.rootLogger=..., file<br>...<br># Direct log messages to file<br>log4j.appender.file=org.apache.log4j.RollingFileAppender<br>log4j.appender.file.File=logs/test.log<br>log4j.appender.file.MaxFileSize=5MB<br>log4j.appender.file.MaxBackupIndex=10<br>log4j.appender.file.layout=org.apache.log4j.PatternLayout<br>log4j.appender.file.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{4} %M:%L - %m%n<br>...</div></div></div></li><li><div><p>Set category filter settings in <span class="monospace">log4j.properties</span> file, that logger will show:</p><ol><li><strong>INFO</strong> messages for <strong>jtm.extra10.Log</strong> class</li><li><strong>TRACE</strong> messages for <strong>jtm.extra10.Log$ExtLog</strong> class</li></ol><p>e.g.:</p><div class="box"><div class="code">...<br>log4j.logger.jtm.extra10.Log=info<br>log4j.logger.jtm.extra10.Log$ExtLog=trace<br>...</div></div></div></li><li>Review package <strong>jtm.extra10</strong><ol><li>Implement class <strong>Log</strong> with methods <strong>trace</strong>, <strong>debug</strong>, <strong>info</strong>, <strong>warn</strong>, <strong>error</strong>, <strong>fatal</strong> which will write log messages with appropriate level,</li><li>Implement method <strong>getLogger()</strong> which returns reference to used logger,</li><li>In class <strong>Log</strong> implement internal class <strong>ExtLog</strong> which also implements static methods <strong>trace</strong>, <strong>debug</strong>, <strong>info</strong>, <strong>warn</strong>, <strong>error</strong>, <strong>fatal</strong> which will write log messages with appropriate level.</li></ol></li><li>Check that unit tests are passing.</li></ol><p><a name="top"></a></p><table width="100%"><tr><td width="40%" style="border: none; text-align: left;"></td><td width="20%" style="border: none; text-align: center;"><div><p><span class="wikilink"><a href="#top">Up</a></span> <br> <span class="wikilink"><a href="https://odo.lv/Training/JavaExerciseExtra">Home</a></span></p></div></td><td style="border: none; text-align: right;"></td></tr></table></body></html></body></html>